# –ì–ª–∞–≤–∞ 10: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (Interfaces)

## –ß—Ç–æ —Ç–∞–∫–æ–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –≤ Go

**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å** ‚Äî —ç—Ç–æ –Ω–∞–±–æ—Ä —Å–∏–≥–Ω–∞—Ç—É—Ä –º–µ—Ç–æ–¥–æ–≤. –≠—Ç–æ —Å–ø–æ—Å–æ–± –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å **–ø–æ–≤–µ–¥–µ–Ω–∏–µ** (behavior) –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

### –ö–ª—é—á–µ–≤–æ–µ –æ—Ç–ª–∏—á–∏–µ –æ—Ç Java:

| Java | Go |
|------|-----|
| –ö–ª–∞—Å—Å **—è–≤–Ω–æ** –æ–±—ä—è–≤–ª—è–µ—Ç —á—Ç–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (`implements`) | –¢–∏–ø **–Ω–µ—è–≤–Ω–æ** —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ—Å—Ç–æ –∏–º–µ—è –Ω—É–∂–Ω—ã–µ –º–µ—Ç–æ–¥—ã |
| `class Dog implements Animal { ... }` | –ï—Å–ª–∏ —É —Ç–∏–ø–∞ –µ—Å—Ç—å –≤—Å–µ –º–µ—Ç–æ–¥—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ ‚Äî –æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —ç—Ç–æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–µ–∞–ª–∏–∑—É–µ—Ç |

–≠—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **duck typing**: "–ï—Å–ª–∏ —ç—Ç–æ —Ö–æ–¥–∏—Ç –∫–∞–∫ —É—Ç–∫–∞ –∏ –∫—Ä—è–∫–∞–µ—Ç –∫–∞–∫ —É—Ç–∫–∞, —Ç–æ —ç—Ç–æ —É—Ç–∫–∞" ü¶Ü

## –°–∏–Ω—Ç–∞–∫—Å–∏—Å –æ–±—ä—è–≤–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

```go
type –ò–º—è–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ interface {
    –ú–µ—Ç–æ–¥–û–¥–∏–Ω(–ø–∞—Ä–∞–º–µ—Ç—Ä—ã) –≤–æ–∑–≤—Ä–∞—Ç–¢–∏–ø
    –ú–µ—Ç–æ–¥–î–≤–∞(–ø–∞—Ä–∞–º–µ—Ç—Ä—ã) (–≤–æ–∑–≤—Ä–∞—Ç1, –≤–æ–∑–≤—Ä–∞—Ç2)
}
```

### –ü—Ä–∏–º–µ—Ä:

```go
type Speaker interface {
    Speak() string
}
```

–≠—Ç–æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≥–æ–≤–æ—Ä–∏—Ç: "–õ—é–±–æ–π —Ç–∏–ø, —É –∫–æ—Ç–æ—Ä–æ–≥–æ –µ—Å—Ç—å –º–µ—Ç–æ–¥ `Speak()` –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–π `string`, —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Speaker`".

## –ù–µ—è–≤–Ω–∞—è –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è

```go
package main

import "fmt"

// –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
type Speaker interface {
    Speak() string
}

// –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Dog
type Dog struct {
    Name string
}

// –ú–µ—Ç–æ–¥ Speak –¥–ª—è Dog - –ù–ï–Ø–í–ù–û —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Speaker
func (d Dog) Speak() string {
    return "Woof! My name is " + d.Name
}

// –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Cat
type Cat struct {
    Name string
}

// –ú–µ—Ç–æ–¥ Speak –¥–ª—è Cat - –¢–û–ñ–ï —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Speaker
func (c Cat) Speak() string {
    return "Meow! I'm " + c.Name
}

// –§—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –õ–Æ–ë–û–ô —Ç–∏–ø, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π Speaker
func MakeItSpeak(s Speaker) {
    fmt.Println(s.Speak())
}

func main() {
    dog := Dog{Name: "Rex"}
    cat := Cat{Name: "Whiskers"}

    // –û–±–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –≤ —Ñ—É–Ω–∫—Ü–∏—é
    MakeItSpeak(dog) // Woof! My name is Rex
    MakeItSpeak(cat) // Meow! I'm Whiskers
}
```

**–û–±—Ä–∞—Ç–∏ –≤–Ω–∏–º–∞–Ω–∏–µ:**
- –ú—ã –ù–ï –ø–∏—Å–∞–ª–∏ `Dog implements Speaker`
- Dog –∏ Cat **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** —Ä–µ–∞–ª–∏–∑—É—é—Ç Speaker, –ø–æ—Ç–æ–º—É —á—Ç–æ —É –Ω–∏—Ö –µ—Å—Ç—å –º–µ—Ç–æ–¥ `Speak() string`
- –§—É–Ω–∫—Ü–∏—è `MakeItSpeak` —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –õ–Æ–ë–´–ú —Ç–∏–ø–æ–º, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–º Speaker

## –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?

### 1. –ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º –±–µ–∑ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è

–í Java –¥–ª—è –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∏–ª–∏ —è–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤. –í Go ‚Äî —Ç–æ–ª—å–∫–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã.

```go
type Shape interface {
    Area() float64
}

type Rectangle struct {
    Width, Height float64
}

func (r Rectangle) Area() float64 {
    return r.Width * r.Height
}

type Circle struct {
    Radius float64
}

func (c Circle) Area() float64 {
    return 3.14159 * c.Radius * c.Radius
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –õ–Æ–ë–û–ô —Ñ–∏–≥—É—Ä—ã
func PrintArea(s Shape) {
    fmt.Printf("Area: %.2f\n", s.Area())
}

func main() {
    rect := Rectangle{Width: 5, Height: 3}
    circ := Circle{Radius: 4}

    PrintArea(rect) // Area: 15.00
    PrintArea(circ) // Area: 50.27
}
```

### 2. –ì–∏–±–∫–æ—Å—Ç—å –∏ –¥–µ–∫–∞–ø–ª–∏–Ω–≥

–¢—ã –º–æ–∂–µ—à—å –Ω–∞–ø–∏—Å–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º, –∞ —Ç–∏–ø—ã –º–æ–≥—É—Ç –±—ã—Ç—å –∏–∑ —Ä–∞–∑–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤ –∏ –ù–ï –∑–Ω–∞—Ç—å –¥—Ä—É–≥ –æ –¥—Ä—É–≥–µ.

```go
// –í —Ç–≤–æ—ë–º –∫–æ–¥–µ
type Writer interface {
    Write(data []byte) (int, error)
}

// io.Writer –∏–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏–º–µ–µ—Ç —Ç–∞–∫—É—é –∂–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—É
// –¢–≤–æ–π –∫–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º!
```

## –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –º–µ—Ç–æ–¥–∞–º–∏

```go
type Animal interface {
    Speak() string
    Move() string
}

type Dog struct {
    Name string
}

func (d Dog) Speak() string {
    return "Woof!"
}

func (d Dog) Move() string {
    return "Running on four legs"
}

// Dog —Ä–µ–∞–ª–∏–∑—É–µ—Ç Animal, –ø–æ—Ç–æ–º—É —á—Ç–æ –µ—Å—Ç—å –û–ë–ê –º–µ—Ç–æ–¥–∞

type Bird struct {
    Species string
}

func (b Bird) Speak() string {
    return "Chirp!"
}

func (b Bird) Move() string {
    return "Flying"
}

// Bird –¢–û–ñ–ï —Ä–µ–∞–ª–∏–∑—É–µ—Ç Animal
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (compile-time check)

–•–æ—á–µ—à—å —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ç–∏–ø —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å? –ò—Å–ø–æ–ª—å–∑—É–π —Ç–∞–∫—É—é –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—é:

```go
var _ Speaker = Dog{} // –ï—Å–ª–∏ Dog –Ω–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç Speaker - –æ—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
var _ Speaker = (*Dog)(nil) // –î–ª—è pointer receiver
```

–≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è —Ä–∞–Ω–Ω–µ–≥–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –æ—à–∏–±–æ–∫.

## –ü—É—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Empty Interface)

```go
interface{}
```

–ü—É—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å **–ù–ï —Å–æ–¥–µ—Ä–∂–∏—Ç –º–µ—Ç–æ–¥–æ–≤**, –ø–æ—ç—Ç–æ–º—É –µ–≥–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç **–õ–Æ–ë–û–ô** —Ç–∏–ø.

–í Java —ç—Ç–æ –∞–Ω–∞–ª–æ–≥ `Object` ‚Äî –∫–æ—Ä–Ω–µ–≤–æ–π —Ç–∏–ø –¥–ª—è –≤—Å–µ—Ö –∫–ª–∞—Å—Å–æ–≤.

```go
func PrintAnything(v interface{}) {
    fmt.Println(v)
}

func main() {
    PrintAnything(42)           // int
    PrintAnything("hello")      // string
    PrintAnything(true)         // bool
    PrintAnything([]int{1, 2})  // slice
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –í Go 1.18+ –ø–æ—è–≤–∏–ª—Å—è –ø—Å–µ–≤–¥–æ–Ω–∏–º `any` –≤–º–µ—Å—Ç–æ `interface{}`:

```go
func PrintAnything(v any) { // –¢–æ –∂–µ —Å–∞–º–æ–µ —á—Ç–æ interface{}
    fmt.Println(v)
}
```

## Type Assertion (–ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ —Ç–∏–ø–∞)

–ö–æ–≥–¥–∞ —É —Ç–µ–±—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Ç–∏–ø–∞ `interface{}`, —Ç—ã –Ω–µ –∑–Ω–∞–µ—à—å –µ—ë —Ä–µ–∞–ª—å–Ω—ã–π —Ç–∏–ø. –ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–∏–ø:

```go
var i interface{} = "hello"

// Type assertion
s := i.(string)
fmt.Println(s) // hello

// –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π type assertion (—Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π)
s, ok := i.(string)
if ok {
    fmt.Println("–≠—Ç–æ —Å—Ç—Ä–æ–∫–∞:", s)
} else {
    fmt.Println("–≠—Ç–æ –ù–ï —Å—Ç—Ä–æ–∫–∞")
}

// –û–ø–∞—Å–Ω–æ! –ï—Å–ª–∏ —Ç–∏–ø –Ω–µ —Ç–æ—Ç - panic
n := i.(int) // panic: interface conversion: interface {} is string, not int
```

### Type Switch

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–∏–ø–æ–≤:

```go
func CheckType(i interface{}) {
    switch v := i.(type) {
    case int:
        fmt.Printf("Integer: %d\n", v)
    case string:
        fmt.Printf("String: %s\n", v)
    case bool:
        fmt.Printf("Boolean: %t\n", v)
    default:
        fmt.Printf("Unknown type: %T\n", v)
    }
}

func main() {
    CheckType(42)      // Integer: 42
    CheckType("hi")    // String: hi
    CheckType(true)    // Boolean: true
    CheckType(3.14)    // Unknown type: float64
}
```

## Value vs Pointer Receiver –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö

**–í–∞–∂–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ:**

| –ú–µ—Ç–æ–¥ | –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–µ–∞–ª–∏–∑—É—é—Ç |
|-------|---------------------|
| `func (t Type) Method()` (value receiver) | –ò `Type`, –∏ `*Type` |
| `func (t *Type) Method()` (pointer receiver) | **–¢–û–õ–¨–ö–û** `*Type` |

```go
type Incrementer interface {
    Increment()
}

type Counter struct {
    Value int
}

// Pointer receiver
func (c *Counter) Increment() {
    c.Value++
}

func main() {
    c := Counter{Value: 0}

    // c.Increment() —Ä–∞–±–æ—Ç–∞–µ—Ç (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–∑—è—Ç–∏–µ –∞–¥—Ä–µ—Å–∞)

    // –ù–æ –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:
    // var inc Incrementer = c  // ‚ùå –û—à–∏–±–∫–∞! Counter –Ω–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç Incrementer
    var inc Incrementer = &c    // ‚úÖ –¢–æ–ª—å–∫–æ *Counter —Ä–µ–∞–ª–∏–∑—É–µ—Ç Incrementer

    inc.Increment()
    fmt.Println(c.Value) // 1
}
```

**–ü–æ—á–µ–º—É —Ç–∞–∫?**
- Value receiver –∫–æ–ø–∏—Ä—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ, pointer receiver —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –æ—Ä–∏–≥–∏–Ω–∞–ª–æ–º
- –ï—Å–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–∏–Ω—è–ª `Counter` (value), –∞ –º–µ—Ç–æ–¥ –∏–∑–º–µ–Ω—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É ‚Äî —ç—Ç–æ –∏–∑–º–µ–Ω–∏—Ç –∫–æ–ø–∏—é, –∞ –Ω–µ –æ—Ä–∏–≥–∏–Ω–∞–ª
- Go –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç —ç—Ç–æ–π –æ—à–∏–±–∫–∏

## –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ

### 1. `fmt.Stringer` ‚Äî –∫–∞—Å—Ç–æ–º–Ω–æ–µ —Å—Ç—Ä–æ–∫–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ

```go
type Stringer interface {
    String() string
}
```

–ï—Å–ª–∏ —Ç–≤–æ–π —Ç–∏–ø —Ä–µ–∞–ª–∏–∑—É–µ—Ç `String()`, `fmt.Println` –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ:

```go
type Person struct {
    Name string
    Age  int
}

func (p Person) String() string {
    return fmt.Sprintf("%s (%d years old)", p.Name, p.Age)
}

func main() {
    p := Person{Name: "Alice", Age: 30}
    fmt.Println(p) // Alice (30 years old) - –≤–º–µ—Å—Ç–æ {Alice 30}
}
```

–ê–Ω–∞–ª–æ–≥ `toString()` –≤ Java!

### 2. `error` ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```go
type error interface {
    Error() string
}
```

–õ—é–±–æ–π —Ç–∏–ø —Å –º–µ—Ç–æ–¥–æ–º `Error() string` —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `error`.

```go
type MyError struct {
    Code    int
    Message string
}

func (e MyError) Error() string {
    return fmt.Sprintf("Error %d: %s", e.Code, e.Message)
}

func DoSomething() error {
    return MyError{Code: 404, Message: "Not Found"}
}

func main() {
    err := DoSomething()
    if err != nil {
        fmt.Println(err) // Error 404: Not Found
    }
}
```

### 3. `io.Reader` –∏ `io.Writer` ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –ø–æ—Ç–æ–∫–∞–º–∏

```go
type Reader interface {
    Read(p []byte) (n int, err error)
}

type Writer interface {
    Write(p []byte) (n int, err error)
}
```

–§–∞–π–ª—ã, —Å–µ—Ç–µ–≤—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è, –±—É—Ñ–µ—Ä—ã ‚Äî –≤—Å–µ —Ä–µ–∞–ª–∏–∑—É—é—Ç —ç—Ç–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã.

```go
func CopyData(dst io.Writer, src io.Reader) {
    io.Copy(dst, src) // –†–∞–±–æ—Ç–∞–µ—Ç —Å –õ–Æ–ë–´–ú–ò Reader/Writer
}
```

## –ö–æ–º–ø–æ–∑–∏—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –º–æ–∂–Ω–æ –≤—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –¥—Ä—É–≥ –≤ –¥—Ä—É–≥–∞:

```go
type Reader interface {
    Read(p []byte) (n int, err error)
}

type Writer interface {
    Write(p []byte) (n int, err error)
}

// ReadWriter –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –æ–±–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
type ReadWriter interface {
    Reader
    Writer
}

// –õ—é–±–æ–π —Ç–∏–ø, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π Read –ò Write, —Ä–µ–∞–ª–∏–∑—É–µ—Ç ReadWriter
```

## –ù—É–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

```go
var s Speaker // nil

if s == nil {
    fmt.Println("Interface is nil") // ‚úÖ
}

// s.Speak() // panic: runtime error: invalid memory address
```

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –Ω—É–ª–µ–≤—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º ‚Äî —ç—Ç–æ `nil`.

**–í–Ω–∏–º–∞–Ω–∏–µ!** –ï—Å–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–æ–¥–µ—Ä–∂–∏—Ç nil-—É–∫–∞–∑–∞—Ç–µ–ª—å, —Å–∞–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ù–ï nil:

```go
var c *Counter // nil —É–∫–∞–∑–∞—Ç–µ–ª—å
var inc Incrementer = c // –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ù–ï nil! (—Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–∏–ø *Counter –∏ nil –∑–Ω–∞—á–µ–Ω–∏–µ)

if inc == nil {
    fmt.Println("nil") // –ù–ï –≤—ã–≤–µ–¥–µ—Ç—Å—è!
}
```

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. –ú–∞–ª–µ–Ω—å–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (–ø—Ä–∏–Ω—Ü–∏–ø Interface Segregation)

> "–ß–µ–º –º–µ–Ω—å—à–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —Ç–µ–º –º–æ—â–Ω–µ–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è" ‚Äî Rob Pike

–ò–¥–∏–æ–º–∞—Ç–∏—á–Ω—ã–π Go: –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏–∑ 1-3 –º–µ—Ç–æ–¥–æ–≤.

```go
// ‚úÖ –•–æ—Ä–æ—à–æ
type Reader interface {
    Read(p []byte) (n int, err error)
}

// ‚ùå –ü–ª–æ—Ö–æ (—Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –º–µ—Ç–æ–¥–æ–≤)
type HugeInterface interface {
    Method1()
    Method2()
    Method3()
    Method4()
    Method5()
}
```

### 2. –ü—Ä–∏–Ω–∏–º–∞–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –≤–æ–∑–≤—Ä–∞—â–∞–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

```go
// ‚úÖ –•–æ—Ä–æ—à–æ
func ProcessData(r io.Reader) *Result {
    // ...
}

// ‚ùå –ü–ª–æ—Ö–æ
func ProcessData(f *os.File) io.Reader {
    // ...
}
```

**–ü–æ—á–µ–º—É?**
- –ü—Ä–∏–Ω–∏–º–∞—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ‚Äî —Ç—ã –≥–∏–±–æ–∫ (–º–æ–∂–µ—à—å –ø–µ—Ä–µ–¥–∞—Ç—å –ª—é–±–æ–π Reader)
- –í–æ–∑–≤—Ä–∞—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä—É ‚Äî —Ç—ã –∫–æ–Ω–∫—Ä–µ—Ç–µ–Ω (–≤—ã–∑—ã–≤–∞—é—â–∏–π –∑–Ω–∞–µ—Ç —Ç–æ—á–Ω—ã–π —Ç–∏–ø)

### 3. –û–ø—Ä–µ–¥–µ–ª—è–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Ç–∞–º, –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å

–í Java: –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ –æ–¥–Ω–æ–º –ø–∞–∫–µ—Ç–µ, —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ –¥—Ä—É–≥–∏—Ö.

–í Go: **–æ–ø—Ä–µ–¥–µ–ª—è–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä—è–¥–æ–º —Å –∫–æ–¥–æ–º, –∫–æ—Ç–æ—Ä—ã–π –µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç**, –∞ –Ω–µ —Ä—è–¥–æ–º —Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π.

```go
// package consumer
type Storage interface {
    Save(data string) error
}

func ProcessAndSave(s Storage, data string) {
    // ...
    s.Save(data)
}

// package implementations
type FileStorage struct { ... }
func (f FileStorage) Save(data string) error { ... }

type DBStorage struct { ... }
func (d DBStorage) Save(data string) error { ... }
```

–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å (consumer) –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç, —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ù–ï –∑–Ω–∞—é—Ç –æ –Ω—ë–º.

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å Java

| –ê—Å–ø–µ–∫—Ç | Java | Go |
|--------|------|-----|
| –û–±—ä—è–≤–ª–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ | `class Dog implements Animal` | –ù–µ—è–≤–Ω–æ (duck typing) |
| –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ | Compile-time | Compile-time (–µ—Å–ª–∏ –≤—ã–∑—ã–≤–∞–µ—à—å –º–µ—Ç–æ–¥—ã) + runtime (type assertion) |
| –ü—É—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å | `Object` | `interface{}` –∏–ª–∏ `any` |
| –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ | –ù–µ—Ç (—Ç–æ–ª—å–∫–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã) | –ù–µ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –≤–æ–æ–±—â–µ (—Ç–æ–ª—å–∫–æ –∫–æ–º–ø–æ–∑–∏—Ü–∏—è) |
| –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ —Ç–∏–ø–∞ | `(Dog) animal` | `dog := animal.(Dog)` –∏–ª–∏ `dog, ok := animal.(Dog)` |
| –ö–æ–º–ø–æ–∑–∏—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ | `extends` | –í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ (embedding) |

## –ò—Ç–æ–≥–æ

‚úÖ **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å** ‚Äî –Ω–∞–±–æ—Ä –º–µ—Ç–æ–¥–æ–≤ (–∫–æ–Ω—Ç—Ä–∞–∫—Ç –ø–æ–≤–µ–¥–µ–Ω–∏—è)
‚úÖ **–ù–µ—è–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è** ‚Äî —Ç–∏–ø —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –µ—Å–ª–∏ –∏–º–µ–µ—Ç –≤—Å–µ –µ–≥–æ –º–µ—Ç–æ–¥—ã
‚úÖ **–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º** ‚Äî —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏–Ω–∏–º–∞—é—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, —Ä–∞–±–æ—Ç–∞—é—Ç —Å –ª—é–±—ã–º–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è–º–∏
‚úÖ **`interface{}`** (–∏–ª–∏ `any`) ‚Äî —Ç–∏–ø –¥–ª—è –ª—é–±–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
‚úÖ **Type assertion** ‚Äî `value.(Type)` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞
‚úÖ **Type switch** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–∏–ø–æ–≤
‚úÖ **Value vs Pointer receiver** ‚Äî pointer receiver ‚Üí —Ç–æ–ª—å–∫–æ `*Type` —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚úÖ **–ú–∞–ª–µ–Ω—å–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã** ‚Äî –∏–¥–∏–æ–º–∞ Go (1-3 –º–µ—Ç–æ–¥–∞)
‚úÖ **–ü—Ä–∏–Ω–∏–º–∞–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –≤–æ–∑–≤—Ä–∞—â–∞–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã**
‚úÖ **–û–ø—Ä–µ–¥–µ–ª—è–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —É –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è**, –∞ –Ω–µ —É –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞

---

**–ü—Ä–∞–∫—Ç–∏–∫–∞:** –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ ‚Äî –∑–∞–¥–∞–Ω–∏–µ, –≥–¥–µ —Ç—ã —Å–æ–∑–¥–∞—à—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–∏–ø–æ–≤, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –Ω–∏—Ö, –∏ —Ñ—É–Ω–∫—Ü–∏–∏, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ —Å —ç—Ç–∏–º–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏. –≠—Ç–æ –∑–∞–∫—Ä–µ–ø–∏—Ç –ø–æ–Ω–∏–º–∞–Ω–∏–µ –Ω–µ—è–≤–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞ –≤ Go!
